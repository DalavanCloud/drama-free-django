Drama-free Django
=============

This project aims to make Django projects easy to deploy. It provides a command-line tool for bundling your project and it's dependencies into a zip file (called a "build") and later modifying the build to insert environment-specific configuration (called a "release"). These definitions of "build" and "release" are inspired by chapter 5 of The Twelve Factor App: 

http://12factor.net/build-release-run

Dependencies
------------

This has only been tested on 64-bit Linux, with Python 2.7. The system that generates builds needs to have 'pip' and 'wheel' installed, and whatever else is needed to build your Python dependencies. Servers you deploy to must only have a Python 2.7 interpreter, and a daemon that can run WSGI apps, like Apache with mod_wsgi.

Installation
------------

This package isn't in PyPI yet-- in the meantime, you should be able to install it with:::

   pip install git+https://github.com/cfpb/drama-free-django.git


Make a build
-----

::

   usage: no-drama build [-h] project_path requirements_file name label

   positional arguments:
     project_path
     requirements_file  just like you would 'pip install -r'
     name               name of this project
     label              a label for this build-- maybe a build ID or version number

   optional arguments:
     -h, --help         show this help message and exit
  

to generate a build of the current cfgov-refresh_, you would (after running the front-end build process as documented in their README), run::

   no-drama build cfgov-refresh/cfgov cfgov-refresh/requirements/base.txt cfgov <build label>

Where "build label" could refer to a version or tag of your project, or the build ID generated by you continuous integration server.

If all goes well, a zip file will be created in your current directory, named like::

   cfgov_<build label>.zip

.. _cfgov-refresh: https://github.com/cfpb/cfgov-refresh.git


Make a release
-----

::

   usage: no-drama release [-h] [--paths PATHS]
                           [--requirements_file REQUIREMENTS_FILE]
                           [--append-wsgi APPEND_WSGI]
                           build_zip vars slug
   
   positional arguments:
     build_zip             path to a zip file generated with 'no-drama build'
     vars                  JSON dictionary of env variables
     slug                  a label for this release

   optional arguments:
     -h, --help            show this help message and exit
     --paths PATHS         json file for overriding default paths
     --requirements_file REQUIREMENTS_FILE
                           just like you would 'pip install -r'. Let's you add
                           more wheels to the build
     --append-wsgi APPEND_WSGI
                           text file w/ additional python code to modify the wsgi
                           'application'


To make a release, you need

Known issues
------------

Document any known significant shortcomings with the software.

Getting help
------------

Instruct users how to get help with this software; this might include
links to an issue tracker, wiki, mailing list, etc.

**Example**

If you have questions, concerns, bug reports, etc, please file an issue
in this repository's Issue Tracker.

Getting involved
----------------

This section should detail why people should get involved and describe
key areas you are currently focusing on; e.g., trying to get feedback on
features, fixing certain bugs, building important pieces, etc.

General instructions on *how* to contribute should be stated with a link
to `CONTRIBUTING <CONTRIBUTING.md>`__.

--------------

Open source licensing info
--------------------------

1. `TERMS <TERMS.md>`__
2. LICENSE
3. `CFPB Source Code
   Policy <https://github.com/cfpb/source-code-policy/>`__

--------------

Credits and references
----------------------

1. Projects that inspired you
2. Related projects
3. Books, papers, talks, or other sources that have meaningful impact or
   influence on this project

